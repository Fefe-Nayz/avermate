import {
  CircleStackIcon,
  CubeTransparentIcon,
  PresentationChartLineIcon,
} from "@heroicons/react/24/outline";
import { Share2Icon } from "lucide-react";
import { BentoCard, BentoGrid } from "../magicui/bento-grid";
import OrbitingCircles from "../ui/orbiting-circles";
import MockGradesTable from "./bento/mock-grades-table";

const features = [
  {
    Icon: CircleStackIcon,
    name: "Aperçu précis et clair",
    description:
      "Analysez vos résultats avec des statistiques avancées, des moyennes précises. Identifiez vos points forts et vos axes d'améliorations en un coup d'oeil.",
    href: "#",
    cta: "Découvrir",
    className: "col-span-2",
    background: <div></div>,
  },
  {
    Icon: CubeTransparentIcon,
    name: "Matières et coefficients flexible",
    description:
      "Personnalisez votre suivi : créez vos matières, ajustez les coefficients et suivez des moyennes adaptées à votre parcours.",
    href: "#",
    cta: "En savoir plus",
    className: "col-span-1 row-span-2",
    background: (
      <div className="absolute h-full w-full transition-all duration-300 ease-out [mask-image:linear-gradient(to_top,transparent_10%,#000_100%)] group-hover:scale-105 cursor-default pointer-events-none">
        <div className="p-8">
          <MockGradesTable />
        </div>
      </div>
    ),
  },
  {
    Icon: PresentationChartLineIcon,
    name: "Évolution en temps réel",
    description:
      "Suivez l'évolution de vos résultats en temps réel grâce à des graphiques détaillés. Visualisez vos progrès et ajustez vos efforts.",
    href: "#",
    cta: "Utilisez",
    className: "col-span-1",
    background: <div></div>,
  },
  {
    Icon: Share2Icon,
    name: "Intégration avec les ENT",
    description:
      "Connectez-vous à votre ENT pour importer vos notes et vos matières en un clic. Gagnez du temps et concentrez-vous sur l'essentiel.",
    href: "#",
    cta: "Utilisez",
    className: "col-span-1",
    background: <OrbitingCirclesDemo />,
  },
];

export const FeaturesGrid = () => {
  return (
    <BentoGrid>
      {features.map((feature, idx) => (
        <BentoCard key={idx} {...feature} />
      ))}
    </BentoGrid>
  );
};

export function OrbitingCirclesDemo() {
  return (
    <div className="absolute flex h-[500px] scale-75 w-full flex-col items-center justify-center -top-[50%]">
      {/* Inner Circles */}
      <OrbitingCircles
        className="size-[30px] border-none bg-transparent"
        duration={20}
        delay={20}
        radius={80}
      >
        <img className="size-8 rounded-lg" src="/logo.svg" alt="Logo" />
      </OrbitingCircles>
      <OrbitingCircles
        className="size-[30px] border-none bg-transparent"
        duration={20}
        delay={10}
        radius={80}
      >
        <Icons.ed />
      </OrbitingCircles>

      {/* Outer Circles (reverse) */}
      <OrbitingCircles
        className="size-[50px] border-none bg-transparent"
        radius={190}
        duration={20}
        reverse
      >
        <Icons.skolengo />
      </OrbitingCircles>
      <OrbitingCircles
        className="size-[50px] border-none bg-transparent"
        radius={190}
        duration={20}
        delay={20}
        reverse
      >
        <Icons.pronote />
      </OrbitingCircles>
    </div>
  );
}

const Icons = {
  pronote: () => (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      x="0px"
      y="0px"
      width="100"
      height="100"
      viewBox="0 0 48 48"
    >
      <circle cx="24" cy="24" r="20" fill="#43a047"></circle>
      <path
        fill="#ffeb3b"
        d="M21.828,29.495c-0.919,0-2.303,1.544-3.284,2.524c-0.98,0.98-4.134,1.391-6.569-1.754	c-2.15-2.776-1.564-5.839,1.735-6.683c-3.435-1.244-2.278-8.19,0.006-10.424c4.885,1.17,7.299,5.505,9.659,9.603l0.564,0.766	l-0.997,5.88L21.828,29.495z"
      ></path>
      <path
        fill="#c0ca33"
        d="M24.129,29.452c1.062,1.97,2.109,7.076,7.831,4.421c3.826-1.775,5.259-5.735,1.972-7.661	c3,0,5.745-4.476,4.185-9.411c-6.712-0.436-11.737,4.995-13.232,6.339l-0.946,0.388l-0.997,5.88L24.129,29.452z"
      ></path>
      <path
        fill="#afb42b"
        d="M24.129,29.452c-0.903,0.407-0.361,2.524-1.769,2.294c-0.83-0.136-0.777-1.332-0.532-2.251	c0.318-1.476,1.546-6.734,1.546-6.734s0.028-0.144-0.043-0.466c-0.191-0.86-0.556-1.764-0.899-2.921	c-0.141-0.476,0.09-0.211,0.189-0.041c0.362,0.623,0.771,1.842,1.217,3.207c0.03,0.091,0.208,0.094,0.269,0.021	c0.882-1.059,0.935-1.227,1.329-2.015c0.204-0.407,0.358-0.355,0.219,0.064c-0.224,0.678-0.599,1.212-0.926,1.888	c-0.201,0.415,0.155,0.64,0.155,0.64C24.941,25.263,24.627,27.364,24.129,29.452z"
      ></path>
    </svg>
  ),
  ed: () => (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="45"
      height="30"
      viewBox="0 0 45 30"
      fill="none"
    >
      <path
        d="M44.856 15.2299C44.9294 14.7563 44.995 14.3295 44.995 13.809C44.995 13.809 45.0397 13.1479 44.8612 11.8285C44.6828 10.509 44.2078 9.30141 43.4914 8.18233C42.0402 5.91814 39.9933 4.30718 37.6499 3.02674C35.6608 1.93889 33.5299 1.21279 31.3256 0.718312C29.9584 0.411215 28.5938 0.210822 27.1505 0.148362C25.7072 0.0859011 25.5524 0.027196 24.5263 0.0156361C23.5196 0.00429468 22.5083 -0.0129973 21.9021 0.0156303C21.2959 0.044258 20.7291 0.101516 20.1282 0.184797C18.5274 0.408613 16.945 0.720915 15.3941 1.18416C11.9643 2.20695 8.80738 3.73723 6.09134 6.07169C4.48009 7.45623 3.02103 8.9839 1.91887 10.8187C0.800963 12.6795 0.179028 14.6886 0.00583155 16.8383C-0.00728943 17.0335 0.00583155 17.2313 0.00583155 17.4265C0.0346977 17.4291 0.0635639 17.4343 0.09243 17.4369C0.181653 17.2235 0.268251 17.0075 0.357474 16.7941C1.27069 14.6105 2.58017 12.6743 4.10483 10.8655C6.93371 7.51088 10.4501 5.1582 14.6541 3.83873C16.6432 3.21412 18.6927 2.8758 20.7842 2.75088C22.7366 2.63376 24.6759 2.72225 26.5916 3.06578C28.3262 3.37548 30.045 3.76326 31.6668 4.51018C33.6375 5.41846 35.4613 6.52192 36.8942 8.16151C39.0224 10.5975 39.7388 13.3457 38.6104 16.4453C37.9018 18.3972 36.6239 19.9535 35.0074 21.247C32.5485 23.2119 29.7485 24.5157 26.7175 25.3563C26.4105 25.4396 26.0746 25.4396 25.7518 25.4396C25.6783 25.4396 25.5471 25.2965 25.5419 25.2132C25.5261 25.0232 25.5734 24.8306 25.5944 24.638C25.6364 24.2425 25.5183 24.0863 25.122 24.0941C24.6339 24.1019 24.1458 24.141 23.6603 24.18C22.8075 24.2477 21.9546 24.3908 21.1017 24.3908C20.1072 24.3908 19.1126 24.2815 18.118 24.2008C17.6116 24.1618 17.1025 24.1097 16.6065 24.0108C16.226 23.9354 16.0554 23.6543 16.0817 23.2665C16.1 22.9776 16.1315 22.6887 16.1814 22.4051C16.3362 21.5202 16.533 20.6406 16.6564 19.7505C16.7718 18.9125 16.7403 18.9099 17.6116 18.9177C19.047 18.9333 20.4798 18.9437 21.9152 18.9489C22.154 18.9489 22.3928 18.9281 22.6264 18.8839C23.6183 18.6965 24.054 17.7388 23.8047 17.0023C23.6052 16.4193 23.1197 16.0315 22.427 16.0263C20.8944 16.0159 19.3619 16.0263 17.8294 16.0263C17.7218 16.0263 17.6116 16.0341 17.504 16.0263C17.3176 16.0107 17.2311 15.9378 17.2914 15.7296C17.3701 15.4512 17.42 15.1675 17.4777 14.8838L17.5109 14.721C17.6862 13.862 17.861 13.0052 18.0288 12.146C18.1521 11.5161 18.5038 11.183 19.1257 11.0217C20.2473 10.7307 21.3972 10.692 22.5423 10.6534L22.5792 10.6521C24.0225 10.6001 25.4632 10.6964 26.8828 10.9982C27.615 11.1544 28.1687 10.8473 28.3576 10.1342C28.5466 9.41072 28.683 8.6716 28.8038 7.93249C28.8904 7.40678 28.6883 7.09187 28.1739 6.9123C27.7672 6.76916 27.3447 6.66766 26.9222 6.58178C25.2139 6.23565 23.4766 6.14976 21.742 6.12894C20.7239 6.11593 19.703 6.22524 18.6849 6.28509C17.5669 6.35276 16.4674 6.53233 15.3915 6.84724C14.7512 7.03462 14.3418 7.40938 14.2159 8.08083C13.977 9.34305 13.7225 10.6053 13.4706 11.8675C13.0927 13.7699 12.6938 15.6698 12.3291 17.5748C11.9879 19.3653 11.6678 21.1585 11.3607 22.9542C11.1534 24.18 10.9172 25.4032 10.9356 26.655L10.9359 26.6721C10.9461 27.3631 10.9463 27.3801 11.6126 27.5789L11.6721 27.5965C12.4502 27.8276 13.231 28.0594 14.0243 28.2269C14.7853 28.3883 15.5594 28.4924 16.3336 28.5756C17.8189 28.737 19.3042 28.9322 20.7947 28.9894C21.9152 29.0337 23.0515 28.9322 24.1694 28.8099C25.576 28.6563 26.9799 28.4455 28.3708 28.1931C29.2184 28.0369 30.045 27.7611 30.8769 27.5294C33.3042 26.8528 35.5794 25.8118 37.7155 24.5027C40.3502 22.8891 42.5335 20.8123 43.948 18.0302C44.3993 17.1428 44.709 16.2137 44.856 15.2299Z"
        fill="white"
      />
    </svg>
  ),
  skolengo: () => (
    <svg
      width="50"
      height="50"
      viewBox="0 0 50 50"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M12.0331 28.2165L12.0353 28.2158C11.7969 27.2221 11.6558 26.1892 11.6558 25.1215C11.6558 17.8246 17.5625 11.9096 24.8493 11.9096C26.1049 11.9096 27.3159 12.097 28.4659 12.4249C20.915 10.251 15.1637 1.64383 8.19082 6.57497C4.6723 9.74629 2.06454 13.9075 0.796875 18.6202C8.19007 20.643 11.0197 24.1982 12.0331 28.2165Z"
        fill="#F0EB71"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M31.2894 49.2214C29.3298 41.7982 30.9838 37.5638 33.95 34.6713C31.5814 36.9351 28.3813 38.333 24.8485 38.333C18.6286 38.333 13.4282 34.0169 12.0345 28.2161L12.0322 28.2168C13.9669 35.8856 9.29468 45.2393 17.1225 48.8383C19.5552 49.6332 22.1509 50.0677 24.8485 50.0677C27.0767 50.0677 29.2347 49.7707 31.2894 49.2214Z"
        fill="#43497D"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M28.8027 12.5145C34.1571 14.1973 38.0423 19.204 38.0423 25.1212C38.0423 28.7489 36.58 32.0335 34.2167 34.4213C39.9272 29.1327 50.015 28.3801 49.2182 19.9301C48.2002 15.1184 45.8015 10.8181 42.452 7.46851C37.1354 12.7669 32.7242 13.5346 28.8027 12.5145Z"
        fill="#73C6D0"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M28.4665 12.4249C28.5774 12.4566 28.6921 12.48 28.8023 12.5148C32.7237 13.5356 37.1349 12.7671 42.4515 7.46878C37.9438 2.96153 31.7217 0.174072 24.8491 0.174072C18.4444 0.174072 12.6048 2.59733 8.19141 6.57488C15.1643 1.64374 20.9148 10.2517 28.4665 12.4249Z"
        fill="#43497D"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M34.2159 34.4211C34.1322 34.505 34.0424 34.5828 33.9564 34.6652C33.9541 34.6667 33.9526 34.669 33.9503 34.6712C30.9849 37.5637 29.3294 41.7989 31.2897 49.2213C41.9253 46.378 49.7614 36.6683 49.7614 25.121C49.7614 23.34 49.5713 21.6044 49.2174 19.9299C50.0142 28.38 39.9265 29.1326 34.2159 34.4211Z"
        fill="#F0EB71"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M12.0331 28.2164C11.0197 24.1981 8.19014 20.6429 0.796946 18.6201C0.239325 20.6935 -0.0625 22.8712 -0.0625 25.1214C-0.0625 36.1972 7.14809 45.5812 17.1226 48.8379C9.29482 45.2389 13.9678 35.8859 12.0331 28.2164Z"
        fill="#73C6D0"
      />
    </svg>
  ),
};
